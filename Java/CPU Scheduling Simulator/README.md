# CPU Scheduling Simulator
This project uses a custom built Priority Queue(`PQ`) as a tool to simulate the way a CPU would schedule `jobs` according to their priority. The program will loop with ever iteration being a time slice of the CPU where one of the `jobs` is partially executed until the queue is empty. 
## How is it supposed to work?
- All `jobs` must first be inserted in the `PQ`. Each insertion takes `1` unit of time and sets the `entryTime`, starting from `1`. (when `job1` is inserted, `entryTime` is set to `1`, when `job6` is inserted `entryTime` is set to 6.)
- The CPU processes the `jobs` from the `PQ` based on their **current priority**. If two `jobs` have the same `priority`, the priority is given to the `job` that entered the `PQ` first.
- To avoid having jobs wait indefinitely, after processing `30 processes`, the program searches the `PQ` for the oldest `job` that has been waiting and changes it's priority to `1` so its executed. 
## What is a job?
In the scope of this project a `Job` is defined as a class with the following properties:
- **jobName**: A ***String***
- **jobLength**: An ***int*** representing how many CPU cycles it takes to be fully processed (between `1` and `70` cycles).
- **currentJobLength**: An ***int*** representing how many CPU cycles are left.
- **jobPriority**: An ***int*** representing the initial priority of a given `job`. (between `1` and `40`, `1` being the highest).
- **finalPriority**: An ***int*** representing the final priority of a `job`.
- **entryTime**: A ***long*** representing the time a `job` was inserted into the `PQ`.
- **endTime**: A ***long*** representing the time a `job` was removed from the `PQ`.
- **waitTime**: A ***long*** representing the time a `job` had to wait. This does not include the execution time of a `job`.
## What happens when a `Job` is executed?
- `currentJobLength` is decremented by `1`.
- If `currentJobLength` is greater than `0` then it is added back to the `PQ`, behind all the other jobs of same priority to guarantee that the other jobs of same priority are picked up to be processed before.
- If `currentJobLength` is equal to `0` then the program records `endTime` and `waitTime`.
- Static counter `currentTime` initialized to `0` at the start of all operations and is incremented by `1` for these cases:
- a) Every time a `job` is inserted to the `PQ` from the input array.
- b) Every time a `job` is executed.
- c) Every time the program looks for a starved process (every `30 processes`). However, the `currentTime` should not be incremented when a priority of a starved process is modified nor the time it takes to update the `PQ`.
## When all jobs are terminated (`PQ` is empty)
The program outputs a report to a new file. This report includes:
- Current system time.
- How many jobs have been executed.
- Average waiting time.
- How many times did the CPU change priorities.
- Real running time to process jobs.

Here is the output generated by a test run for 100, 1 000 and 10 000 jobs by using different structures to implement the logic described:
```
Unsorted List Priority Queue
Current system time (cycles): 3943
Total number of jobs executed: 100 jobs
Average process waiting time: 1923 cycles
Total number of priority changes: 3
Actual system time needed to execute all jobs: 116.0 ms

Sorted List Priority Queue
Current system time (cycles): 3943
Total number of jobs executed: 100 jobs
Average process waiting time: 1923 cycles
Total number of priority changes: 3
Actual system time needed to execute all jobs: 118.0 ms

ArrayList-based Heap Priority Queue
Current system time (cycles): 3943
Total number of jobs executed: 100 jobs
Average process waiting time: 1920 cycles
Total number of priority changes: 3
Actual system time needed to execute all jobs: 88.0 ms

Unsorted List Priority Queue
Current system time (cycles): 54595
Total number of jobs executed: 1000 jobs
Average process waiting time: 29549 cycles
Total number of priority changes: 32
Actual system time needed to execute all jobs: 768.0 ms

Sorted List Priority Queue
Current system time (cycles): 54595
Total number of jobs executed: 1000 jobs
Average process waiting time: 29549 cycles
Total number of priority changes: 32
Actual system time needed to execute all jobs: 1521.0 ms

ArrayList-based Heap Priority Queue
Current system time (cycles): 54595
Total number of jobs executed: 1000 jobs
Average process waiting time: 29419 cycles
Total number of priority changes: 33
Actual system time needed to execute all jobs: 455.0 ms

Unsorted List Priority Queue
Current system time (cycles): 2038180
Total number of jobs executed: 10000 jobs
Average process waiting time: 1294829 cycles
Total number of priority changes: 326
Actual system time needed to execute all jobs: 18341.0 ms

Sorted List Priority Queue
Current system time (cycles): 2038180
Total number of jobs executed: 10000 jobs
Average process waiting time: 1294828 cycles
Total number of priority changes: 326
Actual system time needed to execute all jobs: 23966.0 ms

ArrayList-based Heap Priority Queue
Current system time (cycles): 2038180
Total number of jobs executed: 10000 jobs
Average process waiting time: 1293427 cycles
Total number of priority changes: 333
Actual system time needed to execute all jobs: 3096.0 ms
```
